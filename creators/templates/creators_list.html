{% extends "pv_home.html" %}
{% load i18n %}

{% block more_scripts %}
<!--<script type='text/javascript'>-->
<!--	this.selectionChanged = function() {-->
<!--	$( '#pvsort_select' ).change( function() {-->
<!--		orderby = $("#pvsort_select option:selected"); -->
<!--		window.location.href= '{{url}}?orderby=' + orderby.val();-->
<!--		});-->
<!--	};-->

<!--// starting the script on page load-->
<!--	$(document).ready(function(){-->
<!--		selectionChanged();-->
<!--	});-->
<!--	-->
<!--</script>-->
{% endblock %}

{% block title %}{% trans "Creators" %}{% endblock %}

{% block current_crumb %}{% trans "Creators" %}{% endblock %}

{% block main_body %} 
<div class="container-fluid">

<!--    TOP OF THE PAGE-->
    <div class="row-fluid creator">
        <div class="artworks-header">
            <div class="span4">
                <h2>Creators</h2>
            </div>
    <div>
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <td>Name
                    <a href="?orderby=name"><i class="icon-long-arrow-down"></i></a>
                    <a href="?orderby=-name"><i class="icon-long-arrow-up"></i></a>
                    <a href="?orderby=name"><i class="icon-remove"></i></a>
                    </td>
                    <td>Deceased
                    <a href="?orderby=death_year"><i class="icon-long-arrow-down"></i></a>
                    <a href="?orderby=-death_year"><i class="icon-long-arrow-up"></i></a>
                    <a href="?orderby=name"><i class="icon-remove"></i></a>
                    </td>
                    <td>Activity Period
                    <a href="?orderby=activity_start_year"><i class="icon-long-arrow-down"></i></a>
                    <a href="?orderby=-activity_start_year"><i class="icon-long-arrow-up"></i></a>
                    <a href="?orderby=name"><i class="icon-remove"></i></a>
                    </td>
                    <td>Place of Birth
                    <a href="?orderby=birth_place"><i class="icon-long-arrow-down"></i></a>
                    <a href="?orderby=-birth_place"><i class="icon-long-arrow-up"></i></a>
                    <a href="?orderby=name"><i class="icon-remove"></i></a>
                    </td>
                    <td>Place of Death
                    <a href="?orderby=death_place"><i class="icon-long-arrow-down"></i></a>
                    <a href="?orderby=-death_place"><i class="icon-long-arrow-up"></i></a>
                    <a href="?orderby=name"><i class="icon-remove"></i></a>
                    </td>
                    <td>Number of <p>Artworks</p>
                    <a href="?orderby=no_of_artworks"><i class="icon-long-arrow-down"></i></a>
                    <a href="?orderby=-no_of_artworks"><i class="icon-long-arrow-up"></i></a>
                    <a href="?orderby=name"><i class="icon-remove"></i></a>
                    </td>
                </tr>
            </thead>
            <tbody>
                 {% for creator in creators.object_list %}
                <tr>
                    <td>
                        <a class="pvtd_a" href="{% url creator_record creator.id %}">{{ creator.name }}</a>
                    </td>
                    <td>
                        {% if creator.death_year %}
                            {{ creator.death_year }} 
                        {% endif %}
                    </td>
                    <td>
                        {% if creator.activity_start_year and creator.activity_end_year %}
                            {{ creator.activity_start_year }} - {{ creator.activity_end_year }}
                        {% endif %}
                    </td>
                    <td>
                        {{ creator.birth_place.title }}
                    </td>
                    <td>
                        {{  creator.death_place.title }}
                    </td>
                    <td>
                        {{ creator.artwork_set.count }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="pagination pagination-centered">
            <a href="?orderby={{ order }}&page=1"><span class="first-last">First</span></a>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            {% if creators.has_previous %}
                <a href="?orderby={{ order }}&page={{ creators.previous_page_number }}"><span class="badge badge-info">Previous</span></a>
            {% else %}
                <span class="badge badge-info"> Previous </span>
            {% endif %}
            &nbsp;
                <span class="current">
                    Page {{ creators.number }} of {{ creators.paginator.num_pages }}
                </span>
            &nbsp;
            {% if creators.has_next %}
                <a href="?orderby={{ order }}&page={{ creators.next_page_number }}"><span class="badge badge-info">Next</span></a>
            {% else %}
                <span class="badge badge-info"> Next </span>
            {% endif %}
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="?orderby={{ order }}&page={{ creators.paginator.num_pages }}"><span class="first-last">Last</span></a>
        </div>
    </div>
</div>
{% endblock %}

<!--javascript-->

