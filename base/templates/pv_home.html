{% extends "base.html" %}
{% load i18n %}
{% load convert_tags %}
{% block extra_links %}

{% endblock %}

{% block extra_scripts %}
<script type="text/javascript" src="/media/js/jquery.cycle.all.js"></script>
<script type="text/javascript">
    
    this.searchClicked = function(){
        $('#search_button').click(function(){
            search_data = $('#search_text').val();
            window.location.href = '{% url search_results %}?data=' + search_data;
        });
    };
    
    this.advancedSearch = function(){
        $('#advanced_search_button').click(function(){
            window.location.href = '{% url advanced_search %}';
        });
    };
    
    this.initialize_menu = function(div_name){
        $(div_name).mouseenter(function(){
            $(div_name).cycle('resume');
        });
        
        $(div_name).mouseleave(function(){
            $(div_name).cycle('pause');
        });
        
        $(div_name).cycle({
            fx: 'fade',
            timeout: '500' // choose your transition type, ex: fade, scrollUp, shuffle, etc...
        });
        
        $(div_name).cycle('pause');
    }
    
    this.link_menu = function(){
        $('.ss_artwork').click(function(){
            window.location.href = '{% url artworks_list %}';
        });
        $('.ss_creator').click(function(){
            window.location.href = '{% url creators_list %}';
        });
        $('.ss_series').click(function(){
            window.location.href = '{% url series_list %}';
        });
        $('.ss_search').click(function(){
            window.location.href = '{% url map %}';
        });
    }
    
    initialize_artist = function(){
        $('#work_history').mouseenter(function(){
            $('#work_history').cycle('pause');
        });
        
        $('#work_history').mouseleave(function(){
            $('#work_history').cycle('resume');
        });
        
        $('#work_history').cycle({
            fx: 'fade',
            timeout: '500' // choose your transition type, ex: fade, scrollUp, shuffle, etc...
        });
        
    }
    
    $(document).ready(function(){
        initialize_menu('.ss_artwork');
        initialize_menu('.ss_creator');
        initialize_menu('.ss_series');
        initialize_menu('.ss_search');
        link_menu();
        searchClicked();
        advancedSearch();
        initialize_artist();
    });
</script>
{% endblock %}

<!--TITLE-->
{% block title %}{% trans "Home" %}{% endblock %}

{% block body %}

<!--NAVBAR-->

<div class="containter-fluid">

    <div class="navbar-wrapper">

      <div class="container">

        <div class="navbar navbar-inverse">
          <div class="navbar-inner">

            <a class="brand" href="{% url public_view %}">{{ PROJECT_NAME }}</a>
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li><a href="{% url creators_list %}">Creator</a></li>
                <li><a href="{% url artworks_list %}">Artwork</a></li>
                <li><a href="{% url series_list %}">Series</a></li>
                <li><a href="{% url map %}">Map</a></li>
                <li><a href="{% url login %}">Login</a></li>
              </ul>
              <ul class="nav pull-right">
                <li><a href="{% url advanced_search %}">Advance Search</a></li>
              </ul>
            <div class="input-append pull-right search_div">
                <input class="span2" id="search_text" type="text" value="{{ data }}">
                <button class="btn" type="button" id="search_button"><i class="icon-search"></i></button>
            </div>
            </div>
          </div>
        </div>

      </div>
    </div>

<div class="container fluid">


{% block main_body %}

<!--CAROUSEL-->

<div id="myCarousel" class="carousel slide">
  <ol class="carousel-indicators">
    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
    <li data-target="#myCarousel" data-slide-to="1"></li>
    <li data-target="#myCarousel" data-slide-to="2"></li>
  </ol>
<!--   Carousel items -->
  <div class="carousel-inner">
    <div class="active item">
        <div class="container-fluid">
            <div class="carousel-caption">
                <h1>{{ PROJECT_NAME }}</h1>
<!--            <img src="media/img/baroqueart.png" class="logo">-->
                <p class="lead">A database of paintings produced by artists throughout the Hispanic world during the Baroque period. It presents the rich art of the baroque era in various interactive visualizations.</p>
            </div>
        </div>
    </div>
<!--    FEATURE ARTWORK-->
    <div class="item">
        <div class="container-fluid">
            <div class="row-fluid artwork_carousel">
                <div class="span4 offset1">
                    <div class="carousel_artwork">
                        <img src="/media/img/arenoir.jpg">
                            {% if artwork.images.count != 0 %} 
                            {% for artImg in artwork.images.all %}  
                                {% if artImg.url %} 
                                    {% thumbnail artImg.url "190x190,crop" %}
                                {% else %}
                                    {% if artImg.image %}
                                        {% thumbnail artImg.image "190x190,crop" %}
                                    {% else %} 
                                        {% thumbnail "img/Unavailable.gif" "190x190,crop" %} 
                                    {% endif %}
                                {% endif %} 
                            {% endfor %} 
                        {% else %}
                            {% thumbnail "img/Unavailable.gif" "190x190,crop" %}
                        {% endif %}
                    </div>
                 </div>

                <h3 class="carousel_words">Feature Artwork</h3>
                {% if artwork %}
                <div class="span4 carousel_words">
                  <p class="lead">{{ artwork.title }}<p>
                  <blockquote>
                     <p><strong>Artist: </strong>{% for creator in artwork.creators.all %}<span>{{ creator.name }}</span>
                     {% endfor %}
                     {% if artwork.creation_year_start and artwork.creation_year_end %}</p>
                     <p><strong>Dated In:</strong> <span>{{ artwork.creation_year_start }} - {{ artwork.creation_year_end }}</span></p>
                      {% else %} 
                      <p><strong>Dated In: </strong><span>n/a</span></p>
                      {% endif%}
                      {% if artwork.current_place %} 
                      <p><strong>Current Location: </strong><span>{{ artwork.current_place.title }}</span></p>
                      {% else %} 
                      <p><strong>Current Location: </strong><span>n/a</span>
                      {% endif%}
                  </p>
                  <p><a href="{% url artworks_record artwork.id %}">View More</a>
                    {% else %}
                  <span style="">No data available.</span></p>
                {% endif %}
                </blockquote>
              </div>
          </div>
      </div>
    </div>
<!--    FEATURE ARTIST-->
    <div class="item">
        <div class="container-fluid">
            <div class="row-fluid artwork_carousel">
                <div class="span4 offset1">
                    <div class="carousel_artwork">
                        <img src="/media/img/arenoir.jpg">
                        {% for artwork in artist.artwork_set.all %} 
                            {% if artwork.images.count != 0 %} 
                                {% for artImg in artwork.images.all %}  
                                    {% if artImg.url %} 
                                        {% thumbnail artImg.url "190x190,crop" %}
                                    {% else %}
                                    {% if artImg.image %}
                                        {% thumbnail artImg.image "190x190,crop" %}
                                    {% else %} 
                                        {% thumbnail "img/Unavailable.gif" "190x190,crop" %} 
                                    {% endif %}
                                {% endif %} 
                            {% endfor %} 
                        {% else %}
                            {% thumbnail "img/Unavailable.gif" "190x190,crop" %}
                        {% endif %}
                        {% endfor %}
                    </div>
                 </div>

                <h3 class="carousel_words2">Feature Artist</h3>
                {% if artist %}
                <div class="span4 carousel_words2">
                  <p class="lead">{{ artist.name }}<p>
                    <blockquote>
                        <p><strong>Lived: </strong>
                        {% if artist.birth_year and artist.death_year %} 
                        <span>{{ artist.birth_year }} - {{ artist.death_year }}</span>
                    {% else %} <span>n/a</span></p>
                    {% endif%}
                    <p><strong>Masters: </strong>{% for master in artist.masters.all %}<span>{{ master.name }}</span></p>
                    {% if not forloop.last %}
                    ;
                    {% endif %}
                    {% endfor %}
                    <p><strong>Place of birth: </strong><span>{{ artist.birth_place.title }}</span></p>
                    <p><strong>Place of death: </strong><span>{{ artist.death_place.title }}</span></p>
                    <p><a href="{% url creator_record artist.id %}">View More</a></p>
                    {% else %}
                    <span style="">No data available.</span></p>
                    {% endif %}
                    </blockquote>
              </div>
          </div>
      </div>
    </div>
  </div>

<!--   Carousel nav -->
  <a class="carousel-control left" href="#myCarousel" data-slide="prev">&lsaquo;</a>
  <a class="carousel-control right" href="#myCarousel" data-slide="next">&rsaquo;</a>
</div>

<!--HOME IMAGE AND CATEGORIES-->
<div class="container marketing">
      <div class="row">
        <div class="span3">
          <a href="{% url creators_list %}"><img class="img-rounded" src="media/img/artist1.png"></a>
          <a href="{% url creators_list %}"><h2>Creators</h2></a>
          <p>If you have a particular artist in mind, or perhaps want to browse by artists you are able to do that with our database.</p>
          <br><br>
          <p><a class="btn btn-inverse" href="{% url creators_list %}">View Creators &raquo;</a></p>
        </div>
        <div class="span3">
          <a href="{% url artworks_list %}"><img class="img-rounded" src="media/img/artist2.png"></a>
          <a href="{% url artworks_list %}"><h2>Artworks</h2></a>
          <p>If you're interested in the artworks available, you can see them in the Artworks section.</p>
          <br><br><br>
          <p><a class="btn btn-inverse" href="{% url artworks_list %}">View Artworks &raquo;</a></p>
        </div>
        <div class="span3">
          <a href="{% url series_list %}"><img class="img-rounded" src="media/img/artist3.png"></a>
          <a href="{% url series_list %}"><h2>Series</h2></a>
          <p>Some artists and artworks belong to particular series, this allows you to see the serie title, artist and the number of paintings within the series.</p>
          <br>
          <p><a class="btn btn-inverse view_buttons" href="{% url series_list %}">View Series &raquo;</a></p>
        </div>
         <div class="span3">
          <a href="{% url map %}"><img class="img-rounded" src="media/img/artist4.png"></a>
          <a href="{% url map %}"><h2>Map</h2></a>
          <p>Artworks can also be viewed on an interactive map.</p>
          <br><br><br><br>
          <p><a class="btn btn-inverse view_buttons" href="{% url map %}">View Map &raquo;</a></p>
        </div>
      </div>

{% endblock %}

<hr>

<!--FOOTER-->
    <div id="footer">
      <div class="container">
        <p class="muted credit">
            <span class="pull-right">&copy; CulturePlex Lab</span>
        <a href="http://www.cultureplex.ca/" target="blank">CulturePlex.ca</a>
        &nbsp;&nbsp;&nbsp; | &nbsp;&nbsp;&nbsp; <a href="{% url contact %}">Contact Us</a>
        &nbsp;&nbsp;&nbsp; | &nbsp;&nbsp;&nbsp;<a href="{% url about %}">About Us</a>
        </p>
      </div>
    </div>
</div>


{% endblock %}

<!--javascript-->
<script type="text/javascript" src="/media/js/jquery.js">
</script>

<script type="text/javascript" src="http://cloud.github.com/downloads/malsup/cycle/jquery.cycle.all.2.74.js">
</script>

<script>
    $(document).ready(function(){
        $('.carousel').carousel();
    });
</script>

